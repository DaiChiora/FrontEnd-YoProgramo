{"ast":null,"code":"import { LoginUsuario } from 'src/app/model/login-usuario';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/token.service\";\nimport * as i2 from \"src/app/service/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(tokenService, authService, router) {\n    this.tokenService = tokenService;\n    this.authService = authService;\n    this.router = router;\n    this.isLogged = false;\n    this.isLogginFail = false;\n    this.roles = [];\n  }\n  ngOnInit() {\n    if (this.tokenService.getToken()) {\n      this.isLogged = true;\n      this.isLogginFail = false;\n      this.roles = this.tokenService.getAuthorities();\n    }\n  }\n  OnLogin() {\n    this.loginUsuario = new LoginUsuario(this.nombreUsuario, this.password);\n    this.authService.login(this.loginUsuario).subscribe(data => {\n      this.isLogged = true;\n      this.isLogginFail = false;\n      this.tokenService.setToken(data.token);\n      this.tokenService.setUserName(data.nombreUsuario);\n      this.tokenService.setAuthorities(data.authorities);\n      this.roles = data.authorities;\n      this.router.navigate(['']);\n    }, err => {\n      this.isLogged = false;\n      this.isLogginFail = true;\n      this.errMjs = err.error.mensaje;\n      console.log(this.errMjs);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.TokenService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 26,\n  vars: 2,\n  consts: [[1, \"vh-100%\", 2, \"background-color\", \"rgb(172, 152, 212)\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\", \"col-xl-8\", \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"card\", \"d-flex\", \"col-md-6\", \"col-lg-7\", 2, \"border-radius\", \"1rem\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"fas\", \"fa-cubes\", \"fa-2x\", \"me-3\", 2, \"color\", \"#ff6219\"], [1, \"h1\", \"fw-bold\", \"mb-0\"], [1, \"fw-normal\", \"mb-3\", \"pb-3\", 2, \"letter-spacing\", \"1px\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"nombreUsuario\", \"name\", \"nombreUsuario\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"nombreUsuario\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"form-label\"], [1, \"pt-1\", \"mb-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"btn-lg\", \"btn-block\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"form\")(7, \"div\", 6);\n      i0.ɵɵelement(8, \"i\", 7);\n      i0.ɵɵelementStart(9, \"span\", 8);\n      i0.ɵɵtext(10, \"Portfolio #YoProgramo\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"h5\", 9);\n      i0.ɵɵtext(12, \"Introduce tus credenciales \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"form\", 10, 11);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_13_listener() {\n        return ctx.OnLogin();\n      });\n      i0.ɵɵelementStart(15, \"div\", 12)(16, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.nombreUsuario = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\", 14);\n      i0.ɵɵtext(18, \"Usuario\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 12)(20, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"label\", 16);\n      i0.ɵɵtext(22, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 17)(24, \"button\", 18);\n      i0.ɵɵtext(25, \"Ingresar\");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngModel\", ctx.nombreUsuario);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,YAAY,QAAQ,6BAA6B;;;;;;AAS1D,OAAM,MAAOC,cAAc;EAW3BC,YAAoBC,YAA0B,EAAUC,WAAwB,EAAUC,MAAc;IAApF,iBAAY,GAAZF,YAAY;IAAwB,gBAAW,GAAXC,WAAW;IAAuB,WAAM,GAANC,MAAM;IAV9F,aAAQ,GAAG,KAAK;IAChB,iBAAY,GAAG,KAAK;IAIpB,UAAK,GAAa,EAAE;EAKqF;EAIzGC,QAAQ;IACN,IAAI,IAAI,CAACH,YAAY,CAACI,QAAQ,EAAE,EAAC;MAC/B,IAAI,CAACC,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACC,YAAY,GAAG,KAAK;MACzB,IAAI,CAACC,KAAK,GAAG,IAAI,CAACP,YAAY,CAACQ,cAAc,EAAE;;EAEnD;EAEAC,OAAO;IACL,IAAI,CAACC,YAAY,GAAG,IAAIb,YAAY,CAAC,IAAI,CAACc,aAAa,EAAE,IAAI,CAACC,QAAQ,CAAC;IACvE,IAAI,CAACX,WAAW,CACbY,KAAK,CAAC,IAAI,CAACH,YAAY,CAAC,CAACI,SAAS,CAACC,IAAI,IAAG;MACzC,IAAI,CAACV,QAAQ,GAAG,IAAI;MACpB,IAAI,CAACC,YAAY,GAAG,KAAK;MACzB,IAAI,CAACN,YAAY,CAACgB,QAAQ,CAACD,IAAI,CAACE,KAAK,CAAC;MACtC,IAAI,CAACjB,YAAY,CAACkB,WAAW,CAACH,IAAI,CAACJ,aAAa,CAAC;MACjD,IAAI,CAACX,YAAY,CAACmB,cAAc,CAACJ,IAAI,CAACK,WAAW,CAAC;MAClD,IAAI,CAACb,KAAK,GAAGQ,IAAI,CAACK,WAAW;MAC7B,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,EAAEC,GAAG,IAAG;MACP,IAAI,CAACjB,QAAQ,GAAG,KAAK;MACrB,IAAI,CAACC,YAAY,GAAG,IAAI;MACxB,IAAI,CAACiB,MAAM,GAAGD,GAAG,CAACE,KAAK,CAACC,OAAO;MAC/BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,MAAM,CAAC;IAE1B,CAAC,CACF;EACH;;AA1CWzB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX3BC,kCAAuE;MAW/BA,uBAA+D;MAC/DA,+BAA8B;MAAAA,sCAAqB;MAAAA,iBAAO;MAG9DA,8BAA6D;MAAAA,4CAC7D;MAAAA,iBAAK;MACLA,qCAAoD;MAAlCA;QAAA,OAAYC,aAAS;MAAA,EAAC;MACxCD,gCAA+B;MACsEA;QAAA;MAAA,EAA2B;MAA5HA,iBAAuI;MACvIA,kCAA8C;MAAAA,wBAAO;MAAAA,iBAAQ;MAGjEA,gCAA+B;MAC+DA;QAAA;MAAA,EAAsB;MAAhHA,iBAA2H;MAC3HA,kCAAyC;MAAAA,gCAAU;MAAAA,iBAAQ;MAG/DA,gCAAuB;MACyCA,yBAAQ;MAAAA,iBAAS;;;MAVoBA,gBAA2B;MAA3BA,2CAA2B;MAKlCA,eAAsB;MAAtBA,sCAAsB","names":["LoginUsuario","LoginComponent","constructor","tokenService","authService","router","ngOnInit","getToken","isLogged","isLogginFail","roles","getAuthorities","OnLogin","loginUsuario","nombreUsuario","password","login","subscribe","data","setToken","token","setUserName","setAuthorities","authorities","navigate","err","errMjs","error","mensaje","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\Proyectos Programación\\PIEntrega\\FrontEnd\\src\\app\\components\\login\\login.component.ts","D:\\Proyectos Programación\\PIEntrega\\FrontEnd\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoginUsuario } from 'src/app/model/login-usuario';\nimport { AuthService } from 'src/app/service/auth.service';\nimport { TokenService } from 'src/app/service/token.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit{\n  isLogged = false;\n  isLogginFail = false;\n  loginUsuario!: LoginUsuario;\n  nombreUsuario!: string;\n  password!: string;\n  roles: string[] = [];\n  errMjs!: string;\n\n\n\nconstructor(private tokenService: TokenService, private authService: AuthService, private router: Router) {}\n\n\n\n  ngOnInit(): void {\n    if (this.tokenService.getToken()){\n      this.isLogged = true;\n      this.isLogginFail = false;\n      this.roles = this.tokenService.getAuthorities();\n    }\n  }\n\n  OnLogin(): void {\n    this.loginUsuario = new LoginUsuario(this.nombreUsuario, this.password); \n    this.authService\n      .login(this.loginUsuario).subscribe(data => {\n        this.isLogged = true;\n        this.isLogginFail = false;\n        this.tokenService.setToken(data.token);\n        this.tokenService.setUserName(data.nombreUsuario);\n        this.tokenService.setAuthorities(data.authorities);\n        this.roles = data.authorities;\n        this.router.navigate([''])\n      }, err => {\n        this.isLogged = false;\n        this.isLogginFail = true;\n        this.errMjs = err.error.mensaje;\n        console.log(this.errMjs);\n\n      }\n    )\n  }\n\n}\n","<section class=\"vh-100%\" style=\"background-color: rgb(172, 152, 212);\">\n    <div class=\"container py-5 h-100\">\n        <div class=\"row d-flex justify-content-center align-items-center h-100\">\n            <div class=\"col col-xl-8 d-flex align-items-center justify-content-center\">\n                <div class=\"card d-flex col-md-6 col-lg-7 \" style=\"border-radius: 1rem;\">\n                   \n                            <div class=\"card-body p-4 p-lg-5 text-black\">\n\n                                <form>\n\n                                    <div class=\"d-flex align-items-center mb-3 pb-1\">\n                                        <i class=\"fas fa-cubes fa-2x me-3\" style=\"color: #ff6219;\"></i>\n                                        <span class=\"h1 fw-bold mb-0\">Portfolio #YoProgramo</span>\n                                    </div>\n\n                                    <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\">Introduce tus credenciales\n                                    </h5>\n                                    <form #f=\"ngForm\" (ngSubmit)=\"OnLogin()\" novalidate>\n                                    <div class=\"form-outline mb-4\">\n                                        <input type=\"text\" id=\"nombreUsuario\" name= \"nombreUsuario\" class=\"form-control form-control-lg\" [(ngModel)]=\"nombreUsuario\" required/>\n                                        <label class=\"form-label\" for=\"nombreUsuario\">Usuario</label>\n                                    </div>\n\n                                    <div class=\"form-outline mb-4\">\n                                        <input type=\"password\" id=\"password\" name=\"password\" class=\"form-control form-control-lg\" [(ngModel)]=\"password\" required/>\n                                        <label class=\"form-label\" for=\"password\">Contraseña</label>\n                                    </div>\n\n                                    <div class=\"pt-1 mb-4\">\n                                        <button class=\"btn btn-dark btn-lg btn-block\" type=\"submit\">Ingresar</button>\n                                    </div>\n                                \n\n\n                                    </form>\n                                </form>\n\n                            \n                     \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}